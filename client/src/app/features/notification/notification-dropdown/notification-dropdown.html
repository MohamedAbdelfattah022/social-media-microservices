<div
  class="w-96 max-h-[600px] bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 flex flex-col">
  <!-- Header -->
  <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">Notifications</h3>
    @if (unreadCount() > 0) {
    <button (click)="markAllAsRead()"
      class="text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium">
      Mark all read
    </button>
    }
  </div>

  <!-- Notification List -->
  <div class="flex-1 overflow-y-auto">
    @if (loading()) {
    <div class="flex items-center justify-center p-8">
      <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
    </div>
    } @else if (notifications().length === 0) {
    <div class="flex flex-col items-center justify-center p-8 text-gray-500">
      <z-icon zType="inbox" class="mb-2 text-gray-400" [zSize]="'xl'" />
      <p class="text-sm">No notifications yet</p>
    </div>
    } @else {
    @for (notification of notifications(); track notification.id) {
    <app-notification-item [notification]="notification" (click)="handleNotificationClick(notification)" />
    }

    <!-- Load More -->
    @if (hasMore()) {
    <button (click)="loadMore()" [disabled]="loadingMore()"
      class="w-full p-3 text-sm text-blue-600 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50">
      {{ loadingMore() ? 'Loading...' : 'Load more' }}
    </button>
    }
    }
  </div>
</div>