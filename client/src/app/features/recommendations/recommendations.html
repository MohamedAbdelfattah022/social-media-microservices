<div class="flex flex-col gap-4 mr-5 w-full max-w-md">
  <div class="rounded-2xl border border-gray-200 bg-white p-5 shadow-sm">
    <div class="mb-4 flex items-center gap-2">
      <lucide-icon [img]="Users"></lucide-icon>
      <h2 class="font-semibold text-gray-900">Suggested for You</h2>
    </div>
    <div class="space-y-3">
      @for (user of suggestions; track user.id) {
        <div class="flex items-center justify-between">
          <div
            class="flex items-center gap-3 flex-1 cursor-pointer hover:bg-gray-50 rounded-lg p-2 -ml-2 transition-colors"
            (click)="navigateToProfile(user.id)"
          >
            <img
              [src]="user.profilePictureUrl"
              [alt]="user.username"
              class="h-10 w-10 rounded-full border-2 border-gray-100 object-cover"
            />
            <div>
              <p class="text-sm font-semibold text-gray-900">
                {{ user.firstName }} {{ user.lastName }}
              </p>
              <p class="text-xs text-gray-500">@{{ user.username }}</p>
            </div>
          </div>
          <button
            (click)="toggleFollow(user.id)"
            (mouseenter)="hoveredUser = user.id"
            (mouseleave)="hoveredUser = null"
            [ngClass]="{
              'bg-blue-600 text-white hover:bg-blue-700': !isFollowed(user.id),
              'border border-gray-300 text-gray-700 bg-white':
                isFollowed(user.id) && hoveredUser !== user.id,
              'border border-red-300 text-red-600 bg-red-50':
                isFollowed(user.id) && hoveredUser === user.id,
            }"
            class="rounded-lg px-4 py-1.5 text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 min-w-25"
          >
            {{ getButtonLabel(user.id) }}
          </button>
        </div>
      } @empty {
        <p class="text-sm text-gray-500 text-center py-2">No suggestions available</p>
      }
    </div>
  </div>
</div>
