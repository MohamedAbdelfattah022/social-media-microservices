<div class="flex gap-3 items-start px-4 py-3">
  <!-- Textarea grows with content -->
  <div class="flex-1 flex flex-col gap-2">
    <textarea
      class="w-full px-3.5 py-2.5 text-sm bg-gray-100 dark:bg-gray-800 border border-transparent rounded-2xl resize-none transition-all placeholder:text-gray-400 dark:placeholder:text-gray-500 text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-400 dark:focus:border-blue-500 focus:bg-white dark:focus:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed"
      [placeholder]="placeholder()"
      [(ngModel)]="content"
      [maxlength]="maxLength"
      rows="2"
      [disabled]="isSubmitting()"
    ></textarea>

    @if (content().trim()) {
      <div class="flex items-center justify-between px-1">
        <span class="text-xs text-gray-400 dark:text-gray-500">
          {{ content().length }} / {{ maxLength }}
        </span>
        <button
          type="button"
          class="px-4 py-1.5 text-sm font-semibold bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
          [disabled]="!content().trim() || isSubmitting()"
          (click)="handleSubmit()"
        >
          @if (isSubmitting()) {
            Postingâ€¦
          } @else {
            Post
          }
        </button>
      </div>
    }
  </div>
</div>
